/*
Javascript plotting library for jQuery ~ v0.8 beta ~ Copyright (c) 2007-2011 IOLA and Ole Laursen
http://code.google.com/p/flot/issues/detail?id=643
Licensed under the MIT License ~ https://raw.github.com/flot/flot/master/LICENSE.txt
*/(function(a){a.fn.drag=function(b,c,d){var e=typeof b=="string"?b:"",f=a.isFunction(b)?b:a.isFunction(c)?c:null;e.indexOf("drag")!==0&&(e="drag"+e);d=(b==f?c:d)||{};return f?this.bind(e,d,f):this.trigger(e)};var b=a.event,c=b.special,d=c.drag={defaults:{which:1,distance:0,not:":input",handle:null,relative:!1,drop:!0,click:!1},datakey:"dragdata",livekey:"livedrag",add:function(c){var e=a.data(this,d.datakey),f=c.data||{};e.related+=1;if(!e.live&&c.selector){e.live=!0;b.add(this,"draginit."+d.livekey,d.delegate)}a.each(d.defaults,function(a){f[a]!==undefined&&(e[a]=f[a])})},remove:function(){a.data(this,d.datakey).related-=1},setup:function(){if(!a.data(this,d.datakey)){var c=a.extend({related:0},d.defaults);a.data(this,d.datakey,c);b.add(this,"mousedown",d.init,c);this.attachEvent&&this.attachEvent("ondragstart",d.dontstart)}},teardown:function(){if(!a.data(this,d.datakey).related){a.removeData(this,d.datakey);b.remove(this,"mousedown",d.init);b.remove(this,"draginit",d.delegate);d.textselect(!0);this.detachEvent&&this.detachEvent("ondragstart",d.dontstart)}},init:function(e){var f=e.data,g;if(!(f.which>0&&e.which!=f.which)&&!a(e.target).is(f.not))if(!f.handle||!!a(e.target).closest(f.handle,e.currentTarget).length){f.propagates=1;f.interactions=[d.interaction(this,f)];f.target=e.target;f.pageX=e.pageX;f.pageY=e.pageY;f.dragging=null;g=d.hijack(e,"draginit",f);if(f.propagates){if((g=d.flatten(g))&&g.length){f.interactions=[];a.each(g,function(){f.interactions.push(d.interaction(this,f))})}f.propagates=f.interactions.length;f.drop!==!1&&c.drop&&c.drop.handler(e,f);d.textselect(!1);b.add(document,"mousemove mouseup",d.handler,f);return!1}}},interaction:function(b,c){return{drag:b,callback:new d.callback,droppable:[],offset:a(b)[c.relative?"position":"offset"]()||{top:0,left:0}}},handler:function(a){var e=a.data;switch(a.type){case!e.dragging&&"mousemove":if(Math.pow(a.pageX-e.pageX,2)+Math.pow(a.pageY-e.pageY,2)<Math.pow(e.distance,2))break;a.target=e.target;d.hijack(a,"dragstart",e);e.propagates&&(e.dragging=!0);case"mousemove":if(e.dragging){d.hijack(a,"drag",e);if(e.propagates){e.drop!==!1&&c.drop&&c.drop.handler(a,e);break}a.type="mouseup"};case"mouseup":b.remove(document,"mousemove mouseup",d.handler);if(e.dragging){e.drop!==!1&&c.drop&&c.drop.handler(a,e);d.hijack(a,"dragend",e)}d.textselect(!0);if(e.click===!1&&e.dragging){jQuery.event.triggered=!0;setTimeout(function(){jQuery.event.triggered=!1},20);e.dragging=!1}}},delegate:function(c){var e=[],f,g=a.data(this,"events")||{};a.each(g.live||[],function(g,h){if(h.preType.indexOf("drag")===0)if(f=a(c.target).closest(h.selector,c.currentTarget)[0]){b.add(f,h.origType+"."+d.livekey,h.origHandler,h.data);a.inArray(f,e)<0&&e.push(f)}});return e.length?a(e).bind("dragend."+d.livekey,function(){b.remove(this,"."+d.livekey)}):!1},hijack:function(c,e,f,g,h){if(f){var i={event:c.originalEvent,type:c.type},j=e.indexOf("drop")?"drag":"drop",k,l=g||0,m,n;g=isNaN(g)?f.interactions.length:g;c.type=e;c.originalEvent=null;f.results=[];do if(m=f.interactions[l])if(e==="dragend"||!m.cancelled){n=d.properties(c,f,m);m.results=[];a(h||m[j]||f.droppable).each(function(g,h){k=(n.target=h)?b.handle.call(h,c,n):null;if(k===!1){if(j=="drag"){m.cancelled=!0;f.propagates-=1}e=="drop"&&(m[j][g]=null)}else e=="dropinit"&&m.droppable.push(d.element(k)||h);e=="dragstart"&&(m.proxy=a(d.element(k)||m.drag)[0]);m.results.push(k);delete c.result;if(e!=="dropinit")return k});f.results[l]=d.flatten(m.results);e=="dropinit"&&(m.droppable=d.flatten(m.droppable));e=="dragstart"&&!m.cancelled&&n.update()}while(++l<g);c.type=i.type;c.originalEvent=i.event;return d.flatten(f.results)}},properties:function(a,b,c){var e=c.callback;e.drag=c.drag;e.proxy=c.proxy||c.drag;e.startX=b.pageX;e.startY=b.pageY;e.deltaX=a.pageX-b.pageX;e.deltaY=a.pageY-b.pageY;e.originalX=c.offset.left;e.originalY=c.offset.top;e.offsetX=a.pageX-(b.pageX-e.originalX);e.offsetY=a.pageY-(b.pageY-e.originalY);e.drop=d.flatten((c.drop||[]).slice());e.available=d.flatten((c.droppable||[]).slice());return e},element:function(a){if(a&&(a.jquery||a.nodeType==1))return a},flatten:function(b){return a.map(b,function(b){return b&&b.jquery?a.makeArray(b):b&&b.length?d.flatten(b):b})},textselect:function(b){a(document)[b?"unbind":"bind"]("selectstart",d.dontstart).attr("unselectable",b?"off":"on").css("MozUserSelect",b?"":"none")},dontstart:function(){return!1},callback:function(){}};d.callback.prototype={update:function(){c.drop&&this.available.length&&a.each(this.available,function(a){c.drop.locate(this,a)})}};c.draginit=c.dragstart=c.dragend=d})(jQuery);(function(a){function b(b){var c=b||window.event,d=[].slice.call(arguments,1),e=0,f=!0,g=0,h=0;return b=a.event.fix(c),b.type="mousewheel",c.wheelDelta&&(e=c.wheelDelta/120),c.detail&&(e=-c.detail/3),h=e,c.axis!==undefined&&c.axis===c.HORIZONTAL_AXIS&&(h=0,g=-1*e),c.wheelDeltaY!==undefined&&(h=c.wheelDeltaY/120),c.wheelDeltaX!==undefined&&(g=-1*c.wheelDeltaX/120),d.unshift(b,e,g,h),(a.event.dispatch||a.event.handle).apply(this,d)}var c=["DOMMouseScroll","mousewheel"];if(a.event.fixHooks)for(var d=c.length;d;)a.event.fixHooks[c[--d]]=a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=c.length;a;)this.addEventListener(c[--a],b,!1);else this.onmousewheel=b},teardown:function(){if(this.removeEventListener)for(var a=c.length;a;)this.removeEventListener(c[--a],b,!1);else this.onmousewheel=null}},a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})})(jQuery);(function(a){function b(b){function c(a,b){b.unbind(a.getOptions().zoom.trigger,i);b.unbind("mousewheel",h);b.unbind("dragstart",g);b.unbind("drag",f);b.unbind("dragend",e);m&&clearTimeout(m)}function d(a,b){var c=a.getOptions();if(c.zoom.interactive){b[c.zoom.trigger](i);b.mousewheel(h)}if(c.pan.interactive){b.bind("dragstart",{distance:10},g);b.bind("drag",f);b.bind("dragend",e)}}function e(a){if(m){clearTimeout(m);m=null}b.getPlaceholder().css("cursor",j);b.pan({left:k-a.pageX,top:l-a.pageY})}function f(a){var c=b.getOptions().pan.frameRate;if(m||!c)return;m=setTimeout(function(){b.pan({left:k-a.pageX,top:l-a.pageY});k=a.pageX;l=a.pageY;m=null},1/c*1e3)}function g(a){if(a.which!=1)return!1;var c=b.getPlaceholder().css("cursor");c&&(j=c);b.getPlaceholder().css("cursor",b.getOptions().pan.cursor);k=a.pageX;l=a.pageY}function h(a,b){i(a,b<0);return!1}function i(a,c){var d=b.offset();d.left=a.pageX-d.left;d.top=a.pageY-d.top;c?b.zoomOut({center:d}):b.zoom({center:d})}var j="default",k=0,l=0,m=null;b.zoomOut=function(a){a||(a={});a.amount||(a.amount=b.getOptions().zoom.amount);a.amount=1/a.amount;b.zoom(a)};b.zoom=function(c){c||(c={});var d=c.center,e=c.amount||b.getOptions().zoom.amount,f=b.width(),g=b.height();d||(d={left:f/2,top:g/2});var h=d.left/f,i=d.top/g,j={x:{min:d.left-h*f/e,max:d.left+(1-h)*f/e},y:{min:d.top-i*g/e,max:d.top+(1-i)*g/e}};a.each(b.getAxes(),function(a,b){var c=b.options,d=j[b.direction].min,e=j[b.direction].max,f=c.zoomRange;if(f===!1)return;d=b.c2p(d);e=b.c2p(e);if(d>e){var g=d;d=e;e=g}var h=e-d;if(f&&(f[0]!=null&&h<f[0]||f[1]!=null&&h>f[1]))return;c.min=d;c.max=e});b.setupGrid();b.draw();c.preventEvent||b.getPlaceholder().trigger("plotzoom",[b])};b.pan=function(c){var d={x:+c.left,y:+c.top};isNaN(d.x)&&(d.x=0);isNaN(d.y)&&(d.y=0);a.each(b.getAxes(),function(a,b){var c=b.options,e,f,g=d[b.direction];e=b.c2p(b.p2c(b.min)+g),f=b.c2p(b.p2c(b.max)+g);var h=c.panRange;if(h===!1)return;if(h){if(h[0]!=null&&h[0]>e){g=h[0]-e;e+=g;f+=g}if(h[1]!=null&&h[1]<f){g=h[1]-f;e+=g;f+=g}}c.min=e;c.max=f});b.setupGrid();b.draw();c.preventEvent||b.getPlaceholder().trigger("plotpan",[b])};b.hooks.bindEvents.push(d);b.hooks.shutdown.push(c)}var c={xaxis:{zoomRange:null,panRange:null},zoom:{interactive:!1,trigger:"dblclick",amount:1.5},pan:{interactive:!1,cursor:"move",frameRate:20}};a.plot.plugins.push({init:b,options:c,name:"navigate",version:"1.3"})})(jQuery);