// ScrollTo Plugin 1.4.2 | Copyright (c) 2007-2009 Ariel Flesler | GPL/MIT License
(function(a){function c(a){return typeof a=="object"?a:{top:a,left:a}}var b=a.scrollTo=function(b,c,e){a(window).scrollTo(b,c,e)};b.defaults={axis:"xy",duration:parseFloat(a.fn.jquery)>=1.3?0:1};b.window=function(b){return a(window)._scrollable()};a.fn._scrollable=function(){return this.map(function(){var b=this,c=!b.nodeName||a.inArray(b.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!c)return b;var e=(b.contentWindow||b).document||b.ownerDocument||b;return a.browser.safari||e.compatMode=="BackCompat"?e.body:e.documentElement})};a.fn.scrollTo=function(e,f,g){if(typeof f=="object"){g=f;f=0}typeof g=="function"&&(g={onAfter:g});e=="max"&&(e=9e9);g=a.extend({},b.defaults,g);f=f||g.speed||g.duration;g.queue=g.queue&&g.axis.length>1;g.queue&&(f/=2);g.offset=c(g.offset);g.over=c(g.over);return this._scrollable().each(function(){function r(a){i.animate(o,f,g.easing,a&&function(){a.call(this,e,g)})}var h=this,i=a(h),l=e,m,o={},q=i.is("html,body");switch(typeof l){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(l)){l=c(l);break}l=a(l,this);case"object":if(l.is||l.style)m=(l=a(l)).offset()}a.each(g.axis.split(""),function(a,c){var d=c=="x"?"Left":"Top",e=d.toLowerCase(),f="scroll"+d,j=h[f],n=b.max(h,c);if(m){o[f]=m[e]+(q?0:j-i.offset()[e]);if(g.margin){o[f]-=parseInt(l.css("margin"+d))||0;o[f]-=parseInt(l.css("border"+d+"Width"))||0}o[f]+=g.offset[e]||0;g.over[e]&&(o[f]+=l[c=="x"?"width":"height"]()*g.over[e])}else{var p=l[e];o[f]=p.slice&&p.slice(-1)=="%"?parseFloat(p)/100*n:p}/^\d+$/.test(o[f])&&(o[f]=o[f]<=0?0:Math.min(o[f],n));if(!a&&g.queue){j!=o[f]&&r(g.onAfterFirst);delete o[f]}});r(g.onAfter)}).end()};b.max=function(b,c){var e=c=="x"?"Width":"Height",f="scroll"+e;if(!a(b).is("html,body"))return b[f]-a(b)[e.toLowerCase()]();var g="client"+e,h=b.ownerDocument.documentElement,i=b.ownerDocument.body;return Math.max(h[f],i[f])-Math.min(h[g],i[g])}})(jQuery);jetpack={numModules:0,container:null,arrow:null,linkClicked:null,resizeTimeout:null,resizeTimer:null,shadowTimer:null,statusText:null,isRTL:"undefined"!=typeof isRtl&&!!isRtl,didDebug:!1,init:function(){jetpack.numModules=jQuery("div.jetpack-module").not(".placeholder").size();jetpack.container=jQuery("div.module-container");jetpack.level_modules();jetpack.level_placeholders();jetpack.level_placeholders_on_resize();jQuery("a.more-info-link","div.jetpack-module").bind("click",function(a){a.preventDefault();jetpack.hide_shadows();if(jetpack.linkClicked&&jetpack.linkClicked.parents("div.jetpack-module").attr("id")==jQuery(this).parents("div.jetpack-module").attr("id"))jetpack.close_learn_more(function(){jetpack.show_shadows()});else{jetpack.linkClicked=jQuery(this);jetpack.insert_learn_more(jQuery(this).parents("div.jetpack-module"),function(){jetpack.show_shadows()});jQuery("a.jetpack-deactivate-button").hide();jQuery("a.jetpack-configure-button").show();jetpack.linkClicked.parents("div.jetpack-module").children(".jetpack-module-actions").children("a.jetpack-deactivate-button").show();jetpack.linkClicked.parents("div.jetpack-module").children(".jetpack-module-actions").children("a.jetpack-configure-button").hide()}});jQuery(window).bind("resize",function(){jetpack.hide_shadows();clearTimeout(jetpack.shadowTimer);jetpack.shadowTimer=setTimeout(function(){jetpack.show_shadows()},200)});jQuery("a#jp-debug").bind("click",function(a){a.preventDefault();if(!jetpack.didDebug){jetpack.didDebug=!0;jQuery("#jetpack-configuration").load(this.href,function(){jQuery.scrollTo("max","fast")})}jetpack.toggle_debug()});var a=0;jQuery("#jp-disconnect").hover(function(){var b=jQuery(this),c=b.find("a"),d=b.width(),e=a==0;e&&a<d&&(a=d);jetpack.statusText=c.html();c.html(jQuery("#jp-disconnect span").html());d=b.width();e&&a<d&&(a=d+15);e&&b.width(a);c.hide().fadeIn(100)},function(){var a=jQuery("a",this);a.html(jetpack.statusText);a.hide().fadeIn(100);jetpack.statusText=null}).find("a").click(function(){if(!confirm(jetpackL10n.ays_disconnect))return!1;jQuery("#jp-disconnect").unbind("mouseenter mouseleave");jQuery(this).css({"background-image":"url( "+userSettings.url+"wp-admin/images/wpspin_dark.gif )","background-position":"9px 5px"}).unbind("click").click(function(){return!1})})},level_modules:function(){var a=0;jQuery("div.jetpack-module","div.module-container").each(function(){a=Math.max(a,jQuery(this).height())}).height(a)},level_placeholders:function(a){jQuery("div.placeholder").show();var b=jetpack.container.width(),c=4*parseInt(b/242,10)-jetpack.numModules;jetpack.numModules*242>b?jQuery("div.placeholder").slice(c).hide():jQuery("div.placeholder").hide()},level_placeholders_on_resize:function(){jQuery(window).bind("resize",function(){if(jetpack.resizeTimer)return;jetpack.resizeTimer=setTimeout(function(){jetpack.resizeTimer=!1;jetpack.level_placeholders();jetpack.level_placeholders_on_resize()},100)})},insert_learn_more:function(a,b){var c=parseInt(jetpack.container.width()/242,10),d=0,e=0,f=jetpack.isRTL?144:28;jQuery("div.jetpack-module","div.module-container").each(function(b,c){jQuery(c).attr("id")==jQuery(a).attr("id")&&(d=b)});e=1+parseInt(d/c,10);jQuery("div.jetpack-module","div.module-container").each(function(d,g){if(d+1==c*e){if(jQuery("div.more-info").length)if(jQuery(g).next().hasClass("more-info")){jQuery("div.more-info div.jp-content").fadeOut(100);jetpack.learn_more_content(jQuery(a).attr("id"));jQuery(window).scrollTo(jQuery("div.more-info").prev().offset().top-70,600,function(){typeof b=="function"&&b.call(this)})}else{jQuery("div.more-info div.jp-content").hide();jQuery("div.more-info").slideUp(200,function(){jQuery(this).detach().insertAfter(g);jQuery("div.more-info div.jp-content").hide();jetpack.learn_more_content(jQuery(a).attr("id"));jQuery("div.more-info").slideDown(300);jQuery(window).scrollTo(jQuery("div.more-info").prev().offset().top-70,600,function(){typeof b=="function"&&b.call(this)})})}else{jQuery(g).after('<div id="message" class="more-info jetpack-message"><div class="arrow"></div><div class="jp-content"></div><div class="jp-close">&times;</div><div class="clear"></div></div>');jQuery("div.more-info","div.module-container").hide().slideDown(400,function(){jetpack.learn_more_content(jQuery(a).attr("id"));jQuery(window).scrollTo(jQuery("div.more-info").prev().offset().top-70,600);typeof b=="function"&&b.call(this)});jQuery("div.more-info").children("div.arrow").animate({left:jQuery(a).offset().left-jetpack.container.offset().left+f+"px"},300)}jQuery("div.more-info").children("div.arrow").animate({left:jQuery(a).offset().left-jetpack.container.offset().left+f+"px"},300);return}});jQuery(window).bind("resize",function(){jetpack.reposition_learn_more(a);jetpack.level_placeholders_on_resize()});jQuery("div.more-info div.jp-close").unbind("click").bind("click",function(){jetpack.close_learn_more()})},reposition_learn_more:function(a){var b=parseInt(jetpack.container.width()/242,10),c=0;jQuery("div.jetpack-module","div.module-container").each(function(b,d){jQuery(d).attr("id")==jQuery(a).attr("id")&&(c=b)});var d=1+parseInt(c/b,10);jQuery("div.jetpack-module","div.module-container").each(function(c,e){if(c+1==b*d){jQuery("div.more-info").detach().insertAfter(e);jQuery("div.more-info").children("div.arrow").css({left:jQuery(a).offset().left-jetpack.container.offset().left+28+"px"},300)}})},learn_more_content:function(a){response=jQuery("#jp-more-info-"+a).html();jQuery("div.more-info div.jp-content").html(response).hide().fadeIn(300)},close_learn_more:function(a){jQuery("div.more-info div.jp-content").hide();jQuery("div.more-info").slideUp(200,function(){jQuery(this).remove();jQuery("a.jetpack-deactivate-button").hide();jetpack.linkClicked.parents("div.jetpack-module").children(".jetpack-module-actions").children("a.jetpack-configure-button").show();jetpack.linkClicked=null;typeof a=="function"&&a.call(this)})},toggle_debug:function(){jQuery("div#jetpack-configuration").toggle(0,function(){jQuery(this).is(":visible")&&jQuery.scrollTo("max","fast")})},hide_shadows:function(){jQuery("div.jetpack-module, div.more-info").css({"-webkit-box-shadow":"none"})},show_shadows:function(){jQuery("div.jetpack-module").css({"-webkit-box-shadow":"inset 0 1px 0 #fff, inset 0 0 20px rgba(0,0,0,0.05), 0 1px 2px rgba( 0,0,0,0.1 )"});jQuery("div.more-info").css({"-webkit-box-shadow":"inset 0 0 20px rgba(0,0,0,0.05), 0 1px 2px rgba( 0,0,0,0.1 )"})}};jQuery(function(){jetpack.init()});